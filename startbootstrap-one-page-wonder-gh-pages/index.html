<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Korkeasaaren eläintarha</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Catamaran:100,200,300,400,500,600,700,800,900"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css?family=Lato:100,100i,300,300i,400,400i,700,700i,900,900i"
        rel="stylesheet" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <link href="css/styles.css" rel="stylesheet" />
</head>

<body id="page-top">
    <!-- Navigation-->
    <nav class="navbar navbar-expand-lg navbar-dark navbar-custom fixed-top">
        <div class="container px-5">
            <a class="navbar-brand" href="#page-top">Korkeasaaren eläintarha</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"><span
                    class="navbar-toggler-icon"></span></button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="#historia">Historia</a></li>
                    <li class="nav-item"><a class="nav-link" href="#nykyhetki">Nykyhetki</a></li>
                    <li class="nav-item"><a class="nav-link" href="#vastuu">Vastuullisuus</a></li>
                    <li class="nav-item"><a class="nav-link" href="#kävijä">Kävijämäärät</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Header-->
    <header class="masthead text-center text-white">
        <div class="masthead-content">
            <img src="../startbootstrap-one-page-wonder-gh-pages/img5.jpg" alt="Korkeasaaren sademetsähuone trooppisine kasveineen">
            <div class="container px-5">
                <h1 class="masthead-heading mb-0">Korkeasaaren eläintarha</h1>
                <h2 class="masthead-subheading mb-0">Tietoa ja historiaa</h2>
                <a class="btn btn-primary btn-xl rounded-pill mt-5" href="#scroll">Lue lisää</a>
            </div>
        </div>
    </header>
    <!-- Content section 1-->
    <section id="scroll">
        <div class="container px-5" id="historia">
            <div class="row gx-5 align-items-center">
                <div class="col-lg-6 order-lg-2">
                    <div class="p-5"><img class="img-fluid rounded-circle" src="img2.jpg" alt="Korkeasaaren eläintarhan karhu kävelee luonnonmukaisessa aitauksessa" /></div>
                </div>
                <div class="col-lg-6 order-lg-1">
                    <div class="p-5">
                        <h2 class="display-4">Historia</h2>
                        <p>Korkeasaaren eläintarha perustettiin 1800-luvun lopulla kalliopitoiselle saarelle tarjoamaan
                            kaupunkilaisille virkistystä sekä sivistävää opetusta eläimistä. Perustamistyöt alkoivat
                            1890-luvun alussa, ja saarelle rakennettiin aluksi useita rakennuksia, kuten yhä toimiva
                            Ravintola Pukki. Ensimmäiset eläimet, kuten karhut Misha ja Masha, saatiin lahjoituksina,
                            joilla oli tärkeä rooli eläintarhan alkuvaiheessa. Merkittävä varhainen asukas oli jääkarhu
                            Finke, jota varten rakennettiin oma jääkarhulinna. Alkujaan eläintarha keskittyi pohjoisen
                            pallonpuoliskon eläinlajeihin, mutta vastaanotti myös trooppisia eläimiä, kuten apinoita ja
                            papukaijoja. Lahjoitukset eivät rajoittuneet vain eläimiin, vaan saarelle saatiin myös
                            symbolisia esineitä, kuten Ravintola Pukin pronssinen vuohipatsas Pariisin
                            maailmannäyttelystä.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Content section 2-->
    <section>
        <div class="container px-5" id="nykyhetki">
            <div class="row gx-5 align-items-center">
                <div class="col-lg-6">
                    <div class="p-5"><img class="img-fluid rounded-circle" src="img1.jpg" alt="Amurintiikeri seisoo pensaan vieressä ja katsoo suoraan kameraan" />
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="p-5">
                        <h2 class="display-4">Nykyhetki</h2>
                        <p> Nykyään Korkeasaaren eläintarha on moderni eläintarha ja merkittävä luonnonsuojelutoimija,
                            jonka toiminnan ytimessä ovat uhanalaisten lajien suojelu ja ympäristökasvatus.
                            Eläintarhassa elää noin 150 eläinlajia eri puolilta maailmaa, ja painopiste on erityisesti
                            pohjoisen pallonpuoliskon sekä uhanalaisten lajien edustajissa. Tunnettuja eläimiä ovat muun
                            muassa amurintiikerit, lumileopardit, manulit, ahmat, visentit sekä useat apina- ja
                            lintulajit. Trooppisia eläimiä esitellään esimerkiksi Amazonia-talossa, jossa kävijät voivat
                            tutustua sademetsien monimuotoisuuteen.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Content section 3-->
    <section>
        <div class="container px-5" id="vastuu">
            <div class="row gx-5 align-items-center">
                <div class="col-lg-6 order-lg-2">
                    <div class="p-5"><img class="img-fluid rounded-circle" src="img3.jpg" alt="Berberinapina leikkii heinäpallolla istuen puussa" /></div>
                </div>
                <div class="col-lg-6 order-lg-1">
                    <div class="p-5">
                        <h2 class="display-4">Vastuullisuus</h2>
                        <p>Korkeasaaren eläintarhan toiminnan perustana on vastuullisuus, joka näkyy eläinten
                            hyvinvoinnissa, luonnonsuojelussa ja kestävissä toimintatavoissa. Eläintarha suojelee
                            uhanalaisia lajeja ja niiden elinympäristöjä sekä osallistuu kansainvälisiin
                            suojeluhankkeisiin. Eläinten hoito ja elinympäristöt suunnitellaan lajien tarpeiden mukaan,
                            ja toimintaa kehitetään jatkuvasti tutkimustiedon pohjalta. Ympäristövastuussa Korkeasaari
                            pyrkii vähentämään ympäristökuormitustaan ja tavoittelee hiilineutraaliutta vuoteen 2030
                            mennessä. Lisäksi eläintarha edistää sosiaalista vastuullisuutta, yhdenvertaisuutta ja
                            ympäristökasvatusta, jotta mahdollisimman moni ymmärtäisi luonnon monimuotoisuuden
                            merkityksen ja suojelun tärkeyden.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section>
        <div class="container px-5" id="kävijä">
            <div class="row gx-5 align-items-center">
                <div class="col-lg-6">
                    <div class="p-5"><img class="img-fluid rounded-circle" src="img4.jpg" alt=""Riikinkukko levittää suuria värikkäitä sulkiaan"" />
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="p-5">
                        <h2 class="display-4">Kävijämäärät</h2>
                        <p id="tulostus">
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Footer-->
    <footer class="py-5 bg-black">
        <div class="container px-5">
            <p class="m-0 text-center text-white small">&copy; Kaisa Selin</p>
        </div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Core theme JS-->
    <script>

        const kuukaudet = [
            "Tammikuu", "Helmikuu", "Maaliskuu", "Huhtikuu",
            "Toukokuu", "Kesäkuu", "Heinäkuu", "Elokuu",
            "Syyskuu", "Lokakuu", "Marraskuu", "Joulukuu"
        ];

        fetch('https://korkeasaarenkavijat.onrender.com/api/data/year')
            .then(function (response) {
                return response.json();
            })
            .then(function (responseJson) {
                kerro(responseJson);
            })
            .catch(function (error) {
                document.getElementById("vastaus").innerHTML =
                    "<p>Tietoa ei pystytä hakemaan</p>";
            })

        function kerro(data) {
            var teksti = "";

            var muotoilu = Number(data.total).toLocaleString("fi-FI");

            var tanaan = new Date().toLocaleDateString("fi-FI", {
                day: "numeric",
                month: "long"
            });

            teksti = "<p> Vuoden 2025 kävijämäärä: " + muotoilu + " kävijää" + " (" + tanaan + ")" + ".</p>";

            var lasku = data.total / 12;
            var keskiarvo = lasku.toFixed(0);

            var muotoiltuKeskiarvo = Number(keskiarvo).toLocaleString("fi-FI");

            teksti += "<p> Vuoden 2025 kävijä keskimäärä: " + muotoiltuKeskiarvo + "</p>";

            function haeSuosituinKuukausi(months) {
                let max = 0;
                let parasKuukausi = "";

                for (let i = 0; i < months.length; i++) {
                    if (months[i].total > max) {
                        max = months[i].total;
                        parasKuukausi = kuukaudet[months[i].month];
                    }
                }

                return {
                    kuukausi: parasKuukausi,
                    maara: max
                };
            }

            var suosituin = haeSuosituinKuukausi(data.months);

            teksti += "<p>Suosituin kuukausi: <strong>" + suosituin.kuukausi + "</strong> (" + suosituin.maara.toLocaleString("fi-FI") + " kävijää)</p>";

            function haeVahitenSuosittuKuukausi(months) {
                let min = Infinity;
                let huonoinKuukausi = "";

                for (let i = 0; i < months.length; i++) {
                    if (months[i].total < min) {
                        min = months[i].total;
                        huonoinKuukausi = kuukaudet[months[i].month];
                    }
                }

                return {
                    kuukausi: huonoinKuukausi,
                    maara: min
                };
            }

            var vahiten = haeVahitenSuosittuKuukausi(data.months);

            teksti += "<p>Vähiten suosittu kuukausi: <strong>" + vahiten.kuukausi + "</strong> (" + vahiten.maara.toLocaleString("fi-FI") + " kävijää)</p>";


            document.getElementById("tulostus").innerHTML = teksti;
        }
    </script>

    <script>
    // Valitaan kaikki nav-linkit
    const navLinks = document.querySelectorAll('.navbar-nav .nav-link');
    const navbarCollapse = document.getElementById('navbarResponsive');

    navLinks.forEach(link => {
        link.addEventListener('click', () => {
            // Tarkistetaan, onko navbar tällä hetkellä auki
            if (navbarCollapse.classList.contains('show')) {
                // Luodaan Bootstrap Collapse -olio ja suljetaan
                const bsCollapse = new bootstrap.Collapse(navbarCollapse, { toggle: true });
                bsCollapse.hide();
            }
        });
    });
</script>

</body>

</html>
